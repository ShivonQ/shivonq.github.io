<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.0.0-beta1/jquery.min.js"></script>
    <script src="https://maps.googleapis.com/maps/api/js?callback=initMap" async defer></script>
    <!--<script src="https://maps.googleapis.com/maps/api/js?callback=initMap" async defer></script>-->
    <!--<script type="text/javascript" src="make_image_map_tiles.js"></script>-->
    <link rel="stylesheet" href="css/global_css.css">
    <link rel="stylesheet" href="css/city_table_css.css">
    <meta charset="UTF-8">

    <style>
        body {
            padding-top: 15px;
        }
    </style>
    <title id="title_of_city"></title>
</head>
<body onload="display_the_gathered_info()">
<div class="col-md-4">
    <table class="table table-condensed" style="border-collapse: collapse" BORDER=3 CELLSPACING=6 CELLPADDING=6>
        <tr>
            <td id="city_name" align="center" colspan="4">
                City Name
            </td>
        </tr>
        <tr>
            <td colspan="4" align="center" id="city_location_insert">City Location</td>
        </tr>
        <tr>
            <td id="pop_insert" colspan="2">Population:</td>
            <td id="gp_limit_insert" colspan="2">GP Limit:</td>
        </tr>
        <tr>
            <td colspan="4" id="governtment_type_and_alignment_insert">Government Type :::: Alignment</td>
        </tr>
        <tr>
            <td colspan="4">Government People
                <ul id="government_insert">

                    <!--Here is where the data will be made via a unordered list creating function-->
                </ul>
            </td>
        </tr>
        <tr>
            <td colspan="4" id="description_of_settlement_insert">Here is a description inserted here.Here is a
                description inserted here.Here is a description inserted here.Here is a description inserted here.Here
                is a description inserted here.Here is a description inserted here.Here is a description inserted
                here.Here is a description inserted here.Here is a description inserted here.Here is a description
                inserted here.Here is a description inserted here.Here is a description inserted here.Here is a
                description inserted here.Here is a description inserted here.
            </td>
        </tr>
        <!--<tr data-toggle="collapse" data-target="#demo1" class="accordion-toggle">-->
    </table>
    <div class="col-md-4">
    <button class="edit_button" onclick="">EDIT INFORMATION</button>
        <form>
            <p>City Name:<input type="text" name="city_name" size="6" maxlength="40"/></p>
            <p>Population:<input type="number" name="city_pop" size="6" maxlength="7"/></p>
            <p>Country?</p>
            <select name ="country_dropdown">
                <option value="scoiatel">Scoia'Tel</option>
                <option value="gjomatoughariil">Gjomatoughariil</option>
                <option value="thokklund">Thokklund</option>
                <option value="lochton">Lochton</option>
                <option value="denninhdane">Denninhdane</option>
                <option value="orsim">Orsim</option>
                <option value="cavalcade">Cavalcade</option>
                <option value="the_keep">The Keep of The Winds</option>
                <option value="golau-chi">The Golau-Chi Alliance</option>
                <option value="wilds">The Wilds</option>
                <option value="tumultuous">The Tumultuous Lands</option>
                <option value="endless-sands">The Endless Sands</option>
            </select>
            <!--<p>Plus icon on a styled link button:-->
                <!--<a href="#" class="btn btn-info btn-lg">-->
                    <!--<span class="glyphicon glyphicon-plus"></span> Plus-->
                <!--</a>-->
            <!--</p>-->
            <table class="table">
                <tr>
                    <td colspan="2">Governemental NPCs</td>
                    <td colspan="1"></td>
                </tr>
                <tr>
                    <td rowspan="2"><p>NPC Name:<input type="text" name="npc-name"/></p></td>
                    <td><button><span class="glyphicon glyphicon-plus">More NPCs</span></button></td>
                </tr>
                <tr>
                    <td><button><span class="glyphicon glyphicon-minus">Less NPCs</span></button></td>
                </tr>
            </table>
            <p>Governmental NPCs</p>


        </form>
    </div>
</div>
<div class="col-md-4">
    <table class="table table-condensed" style="border-collapse: collapse" BORDER=3 CELLSPACING=6 CELLPADDING=6>
        <tr>
            <td colspan="4" align="center">Local Shops</td>
        </tr>
        <tr>
            <td colspan="2">General
                <ul id="general_stores_insert">

                </ul>
            </td>
            <td colspan="2">
                Taverns and Others
                <ul id="taverns_and_others_insert">

                </ul>
            </td>
        </tr>
        <tr>
            <td colspan="2">
                Magic Item Shops
                <ul id="magic_items_store_insert">

                </ul>
            </td>
            <td colspan="2">
                Weapons and Armor
                <ul id="weapons_and_armor_insert">

                </ul>
            </td>
        </tr>

    </table>
</div>
<style>

    #map {
        height: 200px;
        width: 200px;
        background: palegoldenrod;
        border: groove cadetblue 5px;
        padding: 30px;
    }
</style>
<div id="map" class="col-md-4">

</div>
<div class="col-md-4">
    <table class="table table-condensed" style="border-collapse: collapse" BORDER=3 CELLSPACING=6 CELLPADDING=6>
        <tr data-toggle="collapse" data-target="#demo1" class="accordian-toggle">
            <td colspan="2">The Guard
                <ul id="guard_insert">
                    <li id="captain_or_sherrif_insert">Sherrif:</li>
                    <li id="guard_numbers">FOR TEST</li>
                    <li id="militia_numbers">FOR TEST</li>
                </ul>
            </td>
            <td colspan="2">Notable Spellcasters
                <ul id="spellcaster_insert">
                    <li>Some Dude!</li>
                    <li>Some Lady!</li>
                </ul>
            </td>
        </tr>
        <tr>
            <td colspan="2">Imports
                <ul id="import_insert">
                    <li>1</li>
                    <li>2</li>
                </ul>
            </td>
            <td colspan="2">Exports
                <ul id="export_insert">
                    <li>1</li>
                    <li>2</li>
                </ul>
            </td>
        </tr>
    </table>
</div>
<div class="col-md-4" id="image_div">
    <!--<img class="img-rounded city_map" src="City%20Maps/Weston.bmp" width="200">-->
    <!--<img class="img-rounded" src="City%20Maps/Weston_and_Environs.png" width="200">-->
</div>

<script>
    //
    <!--Here is where the data passed to this will be accessed via session storage-->
    function display_the_gathered_info() {
        var this_city=JSON.parse(localStorage.getItem("City_Data"));
        var dict_of_npc_with_authority=this_city.authority_figures;

        var array_of_gov_workers=this_city.authority_figures["Governmental"];
        var sherriff=this_city.authority_figures["Guard Captain"];
        var array_of_spellcasters=this_city.authority_figures["Notable Spellcasters"];

        var imports=this_city.major_imports;
        var exports=this_city.major_exports;

        var dict_of_local_stores=this_city.local_stores;
        var array_general_stores=this_city.local_stores["General Stores"];
        var array_weps_and_armor=this_city.local_stores["Weapons & Armor"];
        var array_magic_items=this_city.local_stores["Magic Items"];
        var array_others=this_city.local_stores["Other Vendors"];
        var dict_of_knowledge_local=this_city.knowledge_local_information;

        var lat=this_city.latitude;
        var lng=this_city.longitude;

        document.getElementById("city_name").innerHTML=this_city.name;
        document.getElementById("title_of_city").innerHTML=this_city.name;
        document.getElementById("city_location_insert").innerHTML=this_city.country_or_area;
        document.getElementById("pop_insert").innerHTML="Population: "+this_city.population;
        document.getElementById("gp_limit_insert").innerHTML="GP Limit:"+this_city.money_limit+"gp";
        document.getElementById("governtment_type_and_alignment_insert").innerHTML=this_city.power_center_in_community+"::::"+this_city.power_center_alignement;
        document.getElementById("description_of_settlement_insert").innerHTML=this_city.general_description_of_settlement;

        document.getElementById("captain_or_sherrif_insert").innerHTML=this_city.authority_figures["Guard Captain"];
        document.getElementById("guard_numbers").innerHTML="Members of the Guard: "+this_city.city_guards;
        document.getElementById("militia_numbers").innerHTML="Members of the Militia: "+this_city.city_militia;


        function build_gov_npcs(array) {
            for (var i = 0; i < array.length; i++) {
                var npc_name = array[i];
                var another_element = $("<li class='list_item'></li>").text(npc_name);
                $("#government_insert").append(another_element);
            }
        }
        function build_general_stores(array){
            for(var i=0;i<array.length;i++){
                var shop_name = array[i];
                var another_element = $("<li class='list_item'></li>").text(shop_name);
                $("#general_stores_insert").append(another_element)
            }
        }
        function build_taverns_and_others(array){
            for(var i=0;i<array.length;i++){
                var shop_name = array[i];
                var another_element = $("<li class='list_item'></li>").text(shop_name);
                $("#taverns_and_others_insert").append(another_element)
            }
        }
        function build_weps_and_armor(array){
            for(var i=0;i<array.length;i++){
                var shop_name = array[i];
                var another_element = $("<li class='list_item'></li>").text(shop_name);
                $("#weapons_and_armor_insert").append(another_element)
            }
        }
        function build_magic_items(array){
            for(var i=0;i<array.length;i++){
                var shop_name = array[i];
                var another_element = $("<li class='list_item'></li>").text(shop_name);
                $("#magic_items_store_insert").append(another_element)
            }
        }
        build_gov_npcs(array_of_gov_workers);
        build_general_stores(array_general_stores);
        build_taverns_and_others(array_others);
        build_weps_and_armor(array_weps_and_armor);
        build_magic_items(array_magic_items);
    }
</script>
</body>
</html>